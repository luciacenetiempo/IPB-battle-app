(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[572],{1271:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>n});var a=l(7876),t=l(4232),r=l(9123),o=l.n(r),i=l(6141);function n(){var e;let[s,l]=(0,t.useState)(""),[r,n]=(0,t.useState)("google/nano-banana-pro"),[c,d]=(0,t.useState)(!1),[h,m]=(0,t.useState)(!1),[f,p]=(0,t.useState)(null),[x,_]=(0,t.useState)(null),[j,u]=(0,t.useState)(null),[g,I]=(0,t.useState)(null),N=[{value:"google/nano-banana-pro",label:"Nano Banana Pro"},{value:"black-forest-labs/flux-2-dev",label:"FLUX.2 [dev]"}],b=async e=>{if(e.preventDefault(),!s.trim())return void u("Inserisci un prompt");m(!0),u(null),p(null),_(null),I(null);try{let e={prompt:s.trim(),model:c?null:r,testBoth:c};console.log("[TestAPI Frontend] Sending request:",e),console.log("[TestAPI Frontend] testBoth value:",c,"type:",typeof c);let l=await fetch("/api/test-generation",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await l.json();if(!l.ok)throw Error(a.error||"Errore nella generazione");if(a.success)if(a.testBoth&&a.results)_(a.results);else if(a.image)p(a.image),I(a.predictionId);else throw Error("Nessuna immagine generata");else throw Error("Nessuna immagine generata")}catch(e){u(e.message||"Errore sconosciuto"),console.error("Error:",e)}finally{m(!1)}};return(0,a.jsxs)("div",{className:o().container,children:[(0,a.jsx)(i.A,{size:"small"}),(0,a.jsxs)("div",{className:o().header,children:[(0,a.jsx)("div",{className:o().title,children:"TEST API // GENERAZIONE IMMAGINI"}),(0,a.jsx)("div",{className:o().subtitle,children:"Testa la generazione immagini senza avviare un round"})]}),(0,a.jsxs)("div",{className:o().mainContent,children:[(0,a.jsxs)("div",{className:o().inputSection,children:[(0,a.jsxs)("form",{onSubmit:b,className:o().form,children:[(0,a.jsx)("div",{className:o().checkboxContainer,children:(0,a.jsxs)("label",{className:o().checkboxLabel,children:[(0,a.jsx)("input",{type:"checkbox",checked:c,onChange:e=>d(e.target.checked),disabled:h,className:o().checkbox}),(0,a.jsx)("span",{children:"Testa entrambi i modelli contemporaneamente"})]})}),!c&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("label",{className:o().label,children:"MODELLO"}),(0,a.jsx)("select",{className:o().select,value:r,onChange:e=>n(e.target.value),disabled:h,children:N.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsx)("label",{className:o().label,style:{marginTop:"1.5rem"},children:"PROMPT"}),(0,a.jsx)("textarea",{className:o().textarea,value:s,onChange:e=>l(e.target.value),placeholder:"Inserisci il prompt per generare l'immagine...",rows:6,disabled:h}),j&&(0,a.jsxs)("div",{className:o().error,children:["âŒ ",j]}),(0,a.jsx)("button",{type:"submit",className:o().submitBtn,disabled:h||!s.trim(),children:h?c?"GENERANDO ENTRAMBI...":"GENERANDO...":c?"GENERA ENTRAMBI":"GENERA IMMAGINE"})]}),g&&!c&&(0,a.jsxs)("div",{className:o().info,children:[(0,a.jsx)("div",{className:o().infoLabel,children:"Modello:"}),(0,a.jsx)("div",{className:o().infoValue,children:(null==(e=N.find(e=>e.value===r))?void 0:e.label)||r}),(0,a.jsx)("div",{className:o().infoLabel,style:{marginTop:"0.5rem"},children:"Prediction ID:"}),(0,a.jsx)("div",{className:o().infoValue,children:g})]}),x&&(0,a.jsxs)("div",{className:o().info,children:[(0,a.jsx)("div",{className:o().infoLabel,children:"Confronto completato"}),(0,a.jsx)("div",{className:o().infoValue,style:{marginTop:"0.5rem"},children:x.map((e,s)=>(0,a.jsxs)("div",{style:{marginBottom:"0.5rem"},children:[e.modelLabel,": ",e.duration,"s"]},s))})]})]}),(0,a.jsxs)("div",{className:o().resultSection,children:[(0,a.jsx)("div",{className:o().resultLabel,children:c?"CONFRONTO MODELLI":"RISULTATO"}),c?(0,a.jsx)("div",{className:o().comparisonContainer,children:h?(0,a.jsxs)("div",{className:o().loading,children:[(0,a.jsx)("div",{className:o().spinner}),(0,a.jsx)("div",{className:o().loadingText,children:"Generazione in corso..."})]}):x?(0,a.jsx)("div",{className:o().comparisonGrid,children:x.map((e,s)=>(0,a.jsxs)("div",{className:o().comparisonItem,children:[(0,a.jsx)("div",{className:o().comparisonImageContainer,children:e.success&&e.image?(0,a.jsx)("img",{src:e.image,alt:"Generated by ".concat(e.modelLabel),className:o().comparisonImage}):(0,a.jsx)("div",{className:o().placeholder,children:e.error?"Errore: ".concat(e.error):"Errore nella generazione"})}),(0,a.jsxs)("div",{className:o().comparisonInfo,children:[(0,a.jsx)("div",{className:o().comparisonModel,children:e.modelLabel}),(0,a.jsxs)("div",{className:o().comparisonTime,children:[e.duration,"s"]}),e.error&&(0,a.jsx)("div",{className:o().comparisonError,children:e.error})]})]},s))}):(0,a.jsx)("div",{className:o().placeholder,children:"Le immagini generate appariranno qui per il confronto"})}):(0,a.jsx)("div",{className:o().imageContainer,children:h?(0,a.jsxs)("div",{className:o().loading,children:[(0,a.jsx)("div",{className:o().spinner}),(0,a.jsx)("div",{className:o().loadingText,children:"Generazione in corso..."})]}):f?(0,a.jsx)("img",{src:f,alt:"Generated",className:o().generatedImage}):(0,a.jsx)("div",{className:o().placeholder,children:"L'immagine generata apparir\xe0 qui"})})]})]})]})}},6141:(e,s,l)=>{"use strict";l.d(s,{A:()=>t});var a=l(7876);function t(e){let{size:s="medium"}=e,l={small:80,medium:120,large:160},t=l[s]||l.medium;return(0,a.jsx)("div",{style:{position:"fixed",top:"2rem",left:"2rem",zIndex:1e3,opacity:.9,width:"".concat(t,"px"),height:"auto"},children:(0,a.jsxs)("svg",{viewBox:"0 0 764.59 265.73",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",style:{width:"100%",height:"auto"},children:[(0,a.jsxs)("defs",{children:[(0,a.jsxs)("linearGradient",{id:"grad1",x1:"5333.78",y1:"-4488.5",x2:"5554.06",y2:"-4488.5",gradientTransform:"translate(-6824.03 1659.66) rotate(-52.13) scale(1 -1)",gradientUnits:"userSpaceOnUse",children:[(0,a.jsx)("stop",{offset:"0",stopColor:"#dcb06c"}),(0,a.jsx)("stop",{offset:".1",stopColor:"#c5a28a"}),(0,a.jsx)("stop",{offset:".3",stopColor:"#8b81b8"}),(0,a.jsx)("stop",{offset:".34",stopColor:"#7d7ab5"}),(0,a.jsx)("stop",{offset:".64",stopColor:"#cca683"}),(0,a.jsx)("stop",{offset:".7",stopColor:"#cd9777"}),(0,a.jsx)("stop",{offset:".81",stopColor:"#d87861"}),(0,a.jsx)("stop",{offset:".84",stopColor:"#db6d58"}),(0,a.jsx)("stop",{offset:".99",stopColor:"#dc9381"})]}),(0,a.jsxs)("linearGradient",{id:"grad2",x1:"1506.24",y1:"-8980.83",x2:"1638.6",y2:"-8980.83",gradientTransform:"translate(-4019.9 8270.7) rotate(-143.48) scale(1 -1)",gradientUnits:"userSpaceOnUse",children:[(0,a.jsx)("stop",{offset:"0",stopColor:"#dcb06c"}),(0,a.jsx)("stop",{offset:".05",stopColor:"#dcb06c"}),(0,a.jsx)("stop",{offset:".16",stopColor:"#7d7ab5"}),(0,a.jsx)("stop",{offset:".29",stopColor:"#db6d58"}),(0,a.jsx)("stop",{offset:".39",stopColor:"#db6d58"}),(0,a.jsx)("stop",{offset:".53",stopColor:"#dcb06c"}),(0,a.jsx)("stop",{offset:".71",stopColor:"#db6d58"}),(0,a.jsx)("stop",{offset:".84",stopColor:"#dc9381"}),(0,a.jsx)("stop",{offset:".9",stopColor:"#6862a6"}),(0,a.jsx)("stop",{offset:".99",stopColor:"#dc9381"})]}),(0,a.jsx)("linearGradient",{id:"grad3",x1:"4721.15",y1:"-1530.41",x2:"4589.57",y2:"-1616.59",gradientTransform:"translate(-4732.49 225.19) rotate(-20.25) scale(1 -1)",xlinkHref:"#grad1"}),(0,a.jsx)("linearGradient",{id:"grad4",x1:"1371.71",y1:"-9073.42",x2:"1614.91",y2:"-9073.42",xlinkHref:"#grad2"}),(0,a.jsx)("linearGradient",{id:"grad5",x1:"4275.35",y1:"-1621.4",x2:"4146.87",y2:"-1619.18",gradientTransform:"translate(-4348.79 466.48) rotate(-24.47) scale(1 -1)",xlinkHref:"#grad1"}),(0,a.jsx)("linearGradient",{id:"grad6",x1:"1372.14",y1:"-8964.57",x2:"1533.85",y2:"-8964.57",xlinkHref:"#grad2"})]}),(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{fill:"url(#grad1)",stroke:"url(#grad2)",strokeMiterlimit:"10",strokeWidth:"1.09",d:"M8.87,79.02L93.8,3.54l28.46,141.94L26.69,230.41,1.03,102.42c-1.73-8.64,1.25-17.55,7.84-23.41Z"}),(0,a.jsx)("path",{fill:"url(#grad3)",stroke:"url(#grad4)",strokeMiterlimit:"10",strokeWidth:"1.09",d:"M93.8,3.54l130.78,24.85c9.26,1.77,16.53,8.96,18.38,18.2l25.39,126.65-146.11-27.77L93.8,3.54Z"}),(0,a.jsx)("path",{fill:"url(#grad5)",stroke:"url(#grad6)",strokeMiterlimit:"10",strokeWidth:"1.09",d:"M122.27,145.48l146.1,27.77-85.69,76.15c-6.23,5.54-14.67,7.86-22.85,6.32l-133.13-25.29,95.57-84.93v-.02Z"}),(0,a.jsx)("path",{fill:"#fff",d:"M341.04,0h18.01l-14.48,74.42h-18.06L341.04,0Z"}),(0,a.jsx)("path",{fill:"#fff",d:"M425.31,0l-3.27,17.23h-20.97l-11.16,57.19h-17.96l11.16-57.19h-21.02l3.27-17.23h59.94Z"}),(0,a.jsx)("path",{fill:"#fff",d:"M462.66,74.42l-1.92-10.85h-26.67l-6.23,10.85h-19.46L452.28,0h14.32l15.21,74.42h-19.15ZM442.89,48.26h15.1l-3.48-19.98-11.62,19.98Z"}),(0,a.jsx)("path",{fill:"#fff",d:"M501.21,0h18.01l-11.16,57.19h33.01l-3.37,17.23h-51.01L501.21,0Z"}),(0,a.jsx)("path",{fill:"#fff",d:"M559.01,0h18.01l-14.48,74.42h-18.06L559.01,0Z"}),(0,a.jsx)("path",{fill:"#fff",d:"M621.38,74.42l-1.92-10.85h-26.67l-6.23,10.85h-19.46L611,0h14.32l15.21,74.42h-19.15ZM601.61,48.26h15.1l-3.48-19.98-11.62,19.98Z"}),(0,a.jsx)("path",{fill:"#fff",d:"M659.93,0h14.79l19.46,38.82,7.84-38.82h18.01l-14.48,74.42h-14.69l-19.62-38.66-7.79,38.66h-18.06L659.93,0Z"}),(0,a.jsx)("path",{fill:"#fff",d:"M368.39,92.11c6.37,0,11.73,2.1,16.09,6.31s6.54,9.37,6.54,15.49c0,5.29-1.38,10.06-4.15,14.3-2.77,4.24-6.49,7.51-11.16,9.81-4.67,2.3-9.81,3.45-15.41,3.45h-10.85l-4.88,25.07h-18.06l14.53-74.42h27.35ZM362.42,124.24c2.77,0,5.23-.82,7.4-2.46,2.16-1.64,3.24-3.62,3.24-5.94,0-1.83-.66-3.37-1.97-4.62-1.32-1.25-2.92-1.87-4.83-1.87h-10.53l-2.96,14.89h9.65Z"}),(0,a.jsx)("path",{fill:"#fff",d:"M450.48,116.66c-.9,4.5-2.59,8.43-5.06,11.78-2.47,3.36-5.56,5.95-9.26,7.78l12.97,30.31h-19.67l-10.54-27.4h-7.89l-5.29,27.4h-18.06l14.53-74.42h28.59c3.08,0,5.98.66,8.72,1.97,2.73,1.32,5.01,3.06,6.83,5.24,1.82,2.18,3.12,4.79,3.92,7.84.79,3.04.86,6.21.21,9.5ZM416.8,109.45l-2.75,14.27h8.93c2.21,0,4.26-.67,6.12-2.02,1.87-1.35,3.01-3.1,3.42-5.24.42-2.08.05-3.76-1.09-5.06-1.14-1.3-2.84-1.95-5.08-1.95h-9.55Z"}),(0,a.jsx)("path",{fill:"#fff",d:"M500.19,91.07c6.64,0,12.51,1.39,17.62,4.18,5.1,2.79,9.04,6.65,11.81,11.6,2.77,4.95,4.15,10.57,4.15,16.87,0,7.85-1.94,15.15-5.81,21.87-3.88,6.73-9.15,12.07-15.83,16.04-6.68,3.96-13.93,5.94-21.74,5.94-6.61,0-12.46-1.38-17.57-4.15-5.1-2.77-9.05-6.62-11.83-11.55s-4.18-10.53-4.18-16.79c0-5.92,1.15-11.58,3.45-17,2.3-5.41,5.39-10.09,9.26-14.04,3.87-3.94,8.49-7.09,13.86-9.44,5.36-2.35,10.97-3.53,16.81-3.53ZM498.06,108.61c-3.88,0-7.56,1.1-11.05,3.3-3.5,2.2-6.31,5.21-8.46,9.03-2.15,3.82-3.22,7.97-3.22,12.43,0,4.95,1.58,8.97,4.75,12.07,3.17,3.1,7.34,4.64,12.53,4.64,2.91,0,5.74-.66,8.51-1.97,2.77-1.31,5.2-3.07,7.29-5.27,2.09-2.2,3.78-4.83,5.06-7.89,1.28-3.06,1.92-6.25,1.92-9.57,0-4.95-1.59-8.98-4.77-12.09-3.18-3.11-7.37-4.67-12.56-4.67Z"}),(0,a.jsx)("path",{fill:"#fff",d:"M533.75,166.53l14.53-74.42h21.38l10.64,48.06,30.83-48.06h19.2l-14.43,74.42h-17.96l7.84-39.54-24.24,39.54h-13.29l-8.56-39.54-7.89,39.54h-18.06Z"}),(0,a.jsx)("path",{fill:"#fff",d:"M666.91,92.11c6.37,0,11.73,2.1,16.09,6.31s6.54,9.37,6.54,15.49c0,5.29-1.38,10.06-4.15,14.3-2.77,4.24-6.49,7.51-11.16,9.81-4.67,2.3-9.81,3.45-15.41,3.45h-10.85l-4.88,25.07h-18.06l14.53-74.42h27.35ZM660.94,124.24c2.77,0,5.23-.82,7.4-2.46,2.16-1.64,3.24-3.62,3.24-5.94,0-1.83-.66-3.37-1.97-4.62-1.32-1.25-2.92-1.87-4.83-1.87h-10.53l-2.96,14.89h9.65Z"}),(0,a.jsx)("path",{fill:"#fff",d:"M757.51,92.11l-3.27,17.23h-20.97l-11.16,57.19h-17.96l11.16-57.19h-21.02l3.27-17.23h59.94Z"}),(0,a.jsx)("path",{fill:"#fff",d:"M326.51,258.64l14.53-74.42h27.97c4.32,0,8.17.97,11.55,2.91,3.37,1.94,5.84,4.53,7.4,7.79,1.56,3.25,1.97,6.75,1.25,10.48-.62,3.08-2.04,5.93-4.26,8.56-2.21,2.63-4.93,4.52-8.15,5.66,3.46.9,6.1,3.08,7.91,6.54,1.82,3.46,2.26,7.49,1.32,12.09-.69,3.81-2.38,7.27-5.06,10.41-2.68,3.13-5.98,5.58-9.89,7.34-3.91,1.76-8.01,2.65-12.3,2.65h-32.28ZM347.89,241.41h11.57c2.21,0,4.19-.68,5.92-2.05,1.73-1.37,2.84-3.09,3.32-5.16.76-4.67-1.57-7.01-7.01-7.01h-11.05l-2.75,14.22ZM353.29,213.49h9.13c2.01,0,3.81-.59,5.4-1.76,1.59-1.18,2.59-2.65,3.01-4.41.31-1.94-.04-3.4-1.04-4.38-1-.99-2.68-1.48-5.03-1.48h-9.03l-2.44,12.04Z"}),(0,a.jsx)("path",{fill:"#fff",d:"M437.45,258.64l-1.92-10.85h-26.67l-6.23,10.85h-19.46l43.9-74.42h14.32l15.21,74.42h-19.15ZM417.68,232.49h15.1l-3.48-19.98-11.62,19.98Z"}),(0,a.jsx)("path",{fill:"#fff",d:"M523.74,184.22l-3.27,17.23h-20.97l-11.16,57.19h-17.96l11.16-57.19h-21.02l3.27-17.23h59.94Z"}),(0,a.jsx)("path",{fill:"#fff",d:"M587.26,184.22l-3.27,17.23h-20.97l-11.16,57.19h-17.96l11.16-57.19h-21.02l3.27-17.23h59.94Z"}),(0,a.jsx)("path",{fill:"#fff",d:"M593.68,184.22h18.01l-11.16,57.19h33.01l-3.37,17.23h-51.01l14.53-74.42Z"}),(0,a.jsx)("path",{fill:"#fff",d:"M651.48,184.22h46.71l-3.32,17.23h-28.7l-2.13,10.64h25.64l-3.32,17.23h-25.58l-2.44,12.09h28.65l-3.27,17.23h-46.76l14.53-74.42Z"})]})]})})}},7427:(e,s,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/testapi",function(){return l(1271)}])},9123:e=>{e.exports={container:"TestAPI_container__YCsMX",header:"TestAPI_header__uVb7u",title:"TestAPI_title__0JGwQ",subtitle:"TestAPI_subtitle__TAoFD",mainContent:"TestAPI_mainContent__2xIMq",inputSection:"TestAPI_inputSection__wOXmg",form:"TestAPI_form__bIxAS",checkboxContainer:"TestAPI_checkboxContainer__sm7_j",checkboxLabel:"TestAPI_checkboxLabel__Xm4Gr",checkbox:"TestAPI_checkbox__4a0rU",label:"TestAPI_label__IriIx",select:"TestAPI_select__EDfun",textarea:"TestAPI_textarea__LdBwr",submitBtn:"TestAPI_submitBtn__hfvVE",error:"TestAPI_error__lvwHa",info:"TestAPI_info__NcWu7",infoLabel:"TestAPI_infoLabel__uCP05",infoValue:"TestAPI_infoValue__i1O39",resultSection:"TestAPI_resultSection__aI19D",resultLabel:"TestAPI_resultLabel__NEuB1",imageContainer:"TestAPI_imageContainer__1AByQ",loading:"TestAPI_loading__rc9CS",spinner:"TestAPI_spinner__uadJM",spin:"TestAPI_spin__psApD",loadingText:"TestAPI_loadingText__F2mHp",placeholder:"TestAPI_placeholder__s5gy_",generatedImage:"TestAPI_generatedImage__fd9Hh",comparisonContainer:"TestAPI_comparisonContainer__KBR0B",comparisonGrid:"TestAPI_comparisonGrid__xBQdy",comparisonItem:"TestAPI_comparisonItem__putF1",comparisonImageContainer:"TestAPI_comparisonImageContainer__vBVcT",comparisonImage:"TestAPI_comparisonImage__UPF3_",comparisonInfo:"TestAPI_comparisonInfo__v7doO",comparisonModel:"TestAPI_comparisonModel__9xb07",comparisonTime:"TestAPI_comparisonTime__MNjBw",comparisonError:"TestAPI_comparisonError__o4RNT"}}},e=>{e.O(0,[636,593,792],()=>e(e.s=7427)),_N_E=e.O()}]);